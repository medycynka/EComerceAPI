/*!
  * Tempus Dominus v6.0.0-beta8 (https://getdatepicker.com/)
  * Copyright 2013-2022 Jonathan Peterson
  * Licensed under MIT (https://github.com/Eonasdan/tempus-dominus/blob/master/LICENSE)
  */ !function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@popperjs/core")):"function"==typeof define&&define.amd?define(["exports","@popperjs/core"],b):b((a="undefined"!=typeof globalThis?globalThis:a||self).tempusDominus={},a.Popper)}(this,function(a,j){"use strict";a.Unit=void 0,(v=a.Unit||(a.Unit={})).seconds="seconds",v.minutes="minutes",v.hours="hours",v.date="date",v.month="month",v.year="year";let k={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0},l={hour:"2-digit",hour12:!1},m=a=>{switch(a){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}};class c extends Date{constructor(){super(...arguments),this.locale="default",this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335]}setLocale(a){return this.locale=a,this}static convert(a,b="default"){if(!a)throw new Error("A date is required");return new c(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).setLocale(b)}get clone(){return new c(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocale(this.locale)}startOf(c,b=0){if(void 0===this[c])throw new Error(`Unit '${c}' is not valid`);switch(c){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":if(this.startOf(a.Unit.date),this.weekDay===b)break;let d=this.weekDay;0!==b&&0===this.weekDay&&(d=8-b),this.manipulate(b-d,a.Unit.date);break;case"month":this.startOf(a.Unit.date),this.setDate(1);break;case"year":this.startOf(a.Unit.date),this.setMonth(0,1)}return this}endOf(b,c=0){if(void 0===this[b])throw new Error(`Unit '${b}' is not valid`);switch(b){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":this.endOf(a.Unit.date),this.manipulate(6+c-this.weekDay,a.Unit.date);break;case"month":this.endOf(a.Unit.date),this.manipulate(1,a.Unit.month),this.setDate(0);break;case"year":this.endOf(a.Unit.date),this.manipulate(1,a.Unit.year),this.setDate(0)}return this}manipulate(b,a){if(void 0===this[a])throw new Error(`Unit '${a}' is not valid`);return this[a]+=b,this}format(a,b=this.locale){return new Intl.DateTimeFormat(b,a).format(this)}isBefore(b,a){if(!a)return this.valueOf()<b.valueOf();if(void 0===this[a])throw new Error(`Unit '${a}' is not valid`);return this.clone.startOf(a).valueOf()<b.clone.startOf(a).valueOf()}isAfter(b,a){if(!a)return this.valueOf()>b.valueOf();if(void 0===this[a])throw new Error(`Unit '${a}' is not valid`);return this.clone.startOf(a).valueOf()>b.clone.startOf(a).valueOf()}isSame(b,a){if(!a)return this.valueOf()===b.valueOf();if(void 0===this[a])throw new Error(`Unit '${a}' is not valid`);return b=c.convert(b),this.clone.startOf(a).valueOf()===b.startOf(a).valueOf()}isBetween(b,c,a,d="()"){if(a&& void 0===this[a])throw new Error(`Unit '${a}' is not valid`);let e="("===d[0],f=")"===d[1];return(e?this.isAfter(b,a):!this.isBefore(b,a))&&(f?this.isBefore(c,a):!this.isAfter(c,a))||(e?this.isBefore(b,a):!this.isAfter(b,a))&&(f?this.isAfter(c,a):!this.isBefore(c,a))}parts(a=this.locale,b={dateStyle:"full",timeStyle:"long"}){let c={};return new Intl.DateTimeFormat(a,b).formatToParts(this).filter(a=>"literal"!==a.type).forEach(a=>c[a.type]=a.value),c}get seconds(){return this.getSeconds()}set seconds(a){this.setSeconds(a)}get secondsFormatted(){return this.parts(void 0,k).second}get minutes(){return this.getMinutes()}set minutes(a){this.setMinutes(a)}get minutesFormatted(){return this.parts(void 0,k).minute}get hours(){return this.getHours()}set hours(a){this.setHours(a)}get hoursFormatted(){let a=this.parts(void 0,l).hour;return"24"===a&&(a="00"),a}get twelveHoursFormatted(){return this.parts(void 0,k).hour}meridiem(b=this.locale){var a;return null===(a=new Intl.DateTimeFormat(b,{hour:"numeric",hour12:!0}).formatToParts(this).find(a=>"dayPeriod"===a.type))|| void 0===a?void 0:a.value}get date(){return this.getDate()}set date(a){this.setDate(a)}get dateFormatted(){return this.parts(void 0,k).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(a){let b=new Date(this.year,a+1);b.setDate(0);let c=b.getDate();this.date>c&&(this.date=c),this.setMonth(a)}get monthFormatted(){return this.parts(void 0,k).month}get year(){return this.getFullYear()}set year(a){this.setFullYear(a)}get week(){let b=this.computeOrdinal(),c=this.getUTCDay(),a=Math.floor((b-c+10)/7);return a<1?a=this.weeksInWeekYear(this.year-1):a>this.weeksInWeekYear(this.year)&&(a=1),a}weeksInWeekYear(a){let b=a-1;return 4==(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3==(b+Math.floor(b/4)-Math.floor(b/100)+Math.floor(b/400))%7?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}}class n extends Error{}let e="tempus-dominus";class b{}b.NAME=e,b.version="6.0.0-beta8",b.dataKey="td",b.events=new class{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},b.css=new class{constructor(){this.widget=`${e}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline"}},b.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(b){let a=new n(`${this.base} Unexpected option: ${b} does not match a known option.`);throw a.code=1,a}unexpectedOptions(b){let a=new n(`${this.base}: ${b.join(", ")}`);throw a.code=1,a}unexpectedOptionValue(b,c,d){let a=new n(`${this.base} Unexpected option value: ${b} does not accept a value of "${c}". Valid values are: ${d.join(", ")}`);throw a.code=2,a}typeMismatch(b,c,d){let a=new n(`${this.base} Mismatch types: ${b} has a type of ${c} instead of the required ${d}`);throw a.code=3,a}numbersOutOfRage(b,c,d){let a=new n(`${this.base} ${b} expected an array of number between ${c} and ${d}.`);throw a.code=4,a}failedToParseDate(b,c,d=!1){let a=new n(`${this.base} Could not correctly parse "${c}" to a date for ${b}.`);if(a.code=5,!d)throw a;console.warn(a)}mustProvideElement(){let a=new n(`${this.base} No element was provided.`);throw a.code=6,a}subscribeMismatch(){let a=new n(`${this.base} The subscribed events does not match the number of callbacks`);throw a.code=7,a}conflictingConfiguration(b){let a=new n(`${this.base} A configuration value conflicts with another rule. ${b}`);throw a.code=8,a}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string.`)}throwError(b){let a=new n(`${this.base} ${b}`);throw a.code=9,a}};let o,p=[{name:"calendar",className:b.css.daysContainer,unit:a.Unit.month,step:1},{name:"months",className:b.css.monthsContainer,unit:a.Unit.year,step:1},{name:"years",className:b.css.yearsContainer,unit:a.Unit.year,step:10},{name:"decades",className:b.css.decadesContainer,unit:a.Unit.year,step:100},];class q{constructor(){this.viewDate=new c,this._currentCalendarViewMode=0,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(a){this._currentCalendarViewMode=a,this.currentView=p[a].name}refreshCurrentView(){this.currentView=p[this.currentCalendarViewMode].name}}class r{constructor(){this.optionsStore=o.locate(q)}isValid(b,c){var d;if(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(b)||this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(b)||c!==a.Unit.month&&c!==a.Unit.year&&(null===(d=this.optionsStore.options.restrictions.daysOfWeekDisabled)|| void 0===d?void 0:d.length)>0&& -1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(b.weekDay)||this.optionsStore.options.restrictions.minDate&&b.isBefore(this.optionsStore.options.restrictions.minDate,c)||this.optionsStore.options.restrictions.maxDate&&b.isAfter(this.optionsStore.options.restrictions.maxDate,c))return!1;if(c===a.Unit.hours||c===a.Unit.minutes||c===a.Unit.seconds){if(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(b)||this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(b))return!1;if(this.optionsStore.options.restrictions.disabledTimeIntervals.length>0){for(let e of this.optionsStore.options.restrictions.disabledTimeIntervals)if(b.isBetween(e.from,e.to))return!1}}return!0}_isInDisabledDates(b){if(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length)return!1;let c=b.format(m(a.Unit.date));return this.optionsStore.options.restrictions.disabledDates.map(b=>b.format(m(a.Unit.date))).find(a=>a===c)}_isInEnabledDates(b){if(!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length)return!0;let c=b.format(m(a.Unit.date));return this.optionsStore.options.restrictions.enabledDates.map(b=>b.format(m(a.Unit.date))).find(a=>a===c)}_isInDisabledHours(a){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;let b=a.hours;return this.optionsStore.options.restrictions.disabledHours.find(a=>a===b)}_isInEnabledHours(a){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;let b=a.hours;return this.optionsStore.options.restrictions.enabledHours.find(a=>a===b)}}class s{constructor(){this.subscribers=[]}subscribe(a){return this.subscribers.push(a),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(a){this.subscribers.splice(a,1)}emit(a){this.subscribers.forEach(b=>{b(a)})}destory(){this.subscribers=null,this.subscribers=[]}}class t{constructor(){this.triggerEvent=new s,this.viewUpdate=new s,this.updateDisplay=new s,this.action=new s}destory(){this.triggerEvent.destory(),this.viewUpdate.destory(),this.updateDisplay.destory(),this.action.destory()}}let f={restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:!1},inline:!1},stepping:1,useCurrent:!0,defaultDate:void 0,localization:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",previousMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",previousYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",previousDecade:"Previous Decade",nextDecade:"Next Decade",previousCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",toggleMeridiem:"Toggle Meridiem",selectTime:"Select Time",selectDate:"Select Date",dayViewHeaderFormat:{month:"long",year:"2-digit"},locale:"default",startOfTheWeek:0},keepInvalid:!1,debug:!1,allowInputToggle:!1,viewDate:new c,multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,meta:{},container:void 0};class d{static deepCopy(a){let b={};return Object.keys(a).forEach(e=>{let c=a[e];b[e]=c,"object"!=typeof c||c instanceof HTMLElement||c instanceof Element||c instanceof Date||Array.isArray(c)||(b[e]=d.deepCopy(c))}),b}static objectPath(a,b){return("."===a.charAt(0)&&(a=a.slice(1)),a)?a.split(".").reduce((a,b)=>d.isValue(a)||d.isValue(a[b])?a[b]:void 0,b):b}static spread(a,h,e="",i=""){let j=d.objectPath(e,f),c=Object.keys(a).filter(a=>!Object.keys(j).includes(a));if(c.length>0){let k=d.getFlattenDefaultOptions(),g=c.map(c=>{let a=`"${e}.${c}" in not a known option.`,b=k.find(a=>a.includes(c));return b&&(a+=` Did you mean "${b}"?`),a});b.errorMessages.unexpectedOptions(g)}Object.keys(a).forEach(b=>{"."===(e+=`.${b}`).charAt(0)&&(e=e.slice(1));let c=j[b],g=typeof a[b],f=a[b];if(null==f){h[b]=f,e=e.substring(0,e.lastIndexOf(`.${b}`));return}"object"!=typeof c||Array.isArray(a[b])||c instanceof Date||d.ignoreProperties.includes(b)?h[b]=d.processKey(b,f,g,typeof c,e,i):d.spread(a[b],h[b],e,i),e=e.substring(0,e.lastIndexOf(`.${b}`))})}static processKey(e,a,c,m,f,d){switch(e){case"defaultDate":{let g=this.dateConversion(a,"defaultDate");if(void 0!==g)return g.setLocale(d),g;b.errorMessages.typeMismatch("defaultDate",c,"DateTime or Date");break}case"viewDate":{let h=this.dateConversion(a,"viewDate");if(void 0!==h)return h.setLocale(d),h;b.errorMessages.typeMismatch("viewDate",c,"DateTime or Date");break}case"minDate":{if(void 0===a)return a;let i=this.dateConversion(a,"restrictions.minDate");if(void 0!==i)return i.setLocale(d),i;b.errorMessages.typeMismatch("restrictions.minDate",c,"DateTime or Date");break}case"maxDate":{if(void 0===a)return a;let j=this.dateConversion(a,"restrictions.maxDate");if(void 0!==j)return j.setLocale(d),j;b.errorMessages.typeMismatch("restrictions.maxDate",c,"DateTime or Date");break}case"disabledHours":if(void 0===a)return[];return this._typeCheckNumberArray("restrictions.disabledHours",a,c),a.filter(a=>a<0||a>24).length>0&&b.errorMessages.numbersOutOfRage("restrictions.disabledHours",0,23),a;case"enabledHours":if(void 0===a)return[];return this._typeCheckNumberArray("restrictions.enabledHours",a,c),a.filter(a=>a<0||a>24).length>0&&b.errorMessages.numbersOutOfRage("restrictions.enabledHours",0,23),a;case"daysOfWeekDisabled":if(void 0===a)return[];return this._typeCheckNumberArray("restrictions.daysOfWeekDisabled",a,c),a.filter(a=>a<0||a>6).length>0&&b.errorMessages.numbersOutOfRage("restrictions.daysOfWeekDisabled",0,6),a;case"enabledDates":if(void 0===a)return[];return this._typeCheckDateArray("restrictions.enabledDates",a,c,d),a;case"disabledDates":if(void 0===a)return[];return this._typeCheckDateArray("restrictions.disabledDates",a,c,d),a;case"disabledTimeIntervals":if(void 0===a)return[];Array.isArray(a)||b.errorMessages.typeMismatch(e,c,"array of { from: DateTime|Date, to: DateTime|Date }");let k=a;for(let l=0;l<k.length;l++)Object.keys(k[l]).forEach(a=>{let f=`${e}[${l}].${a}`,g=k[l][a],c=this.dateConversion(g,f);c||b.errorMessages.typeMismatch(f,typeof g,"DateTime or Date"),c.setLocale(d),k[l][a]=c});return k;case"toolbarPlacement":case"type":case"viewMode":let o={toolbarPlacement:["top","bottom","default"],type:["icons","sprites"],viewMode:["clock","calendar","months","years","decades"]},n=o[e];return n.includes(a)||b.errorMessages.unexpectedOptionValue(f.substring(1),a,n),a;case"meta":case"dayViewHeaderFormat":return a;case"container":return a&&!(a instanceof HTMLElement||a instanceof Element||(null==a?void 0:a.appendChild))&&b.errorMessages.typeMismatch(f.substring(1),typeof a,"HTMLElement"),a;default:switch(m){case"boolean":return"true"===a|| !0===a;case"number":return+a;case"string":return a.toString();case"object":return{};case"function":return a;default:b.errorMessages.typeMismatch(f,c,m)}}}static _mergeOptions(a,b){var c;let e=d.deepCopy(b),f="default"!==b.localization.locale?b.localization.locale:(null===(c=null==a?void 0:a.localization)|| void 0===c?void 0:c.locale)||"default";return d.spread(a,e,"",f),e}static _dataToOptions(d,c){let a=JSON.parse(JSON.stringify(d.dataset));if((null==a?void 0:a.tdTargetInput)&&delete a.tdTargetInput,(null==a?void 0:a.tdTargetToggle)&&delete a.tdTargetToggle,!a||0===Object.keys(a).length||a.constructor!==DOMStringMap)return c;let e={},f=a=>{let b={};return Object.keys(a).forEach(a=>{b[a.toLowerCase()]=a}),b},g=(e,b,c,h)=>{let i=f(c),a=i[e[b].toLowerCase()],d={};return void 0===a||(c[a].constructor===Object?(b++,d[a]=g(e,b,c[a],h)):d[a]=h),d},h=f(c);return Object.keys(a).filter(a=>a.startsWith(b.dataKey)).map(a=>a.substring(2)).forEach(d=>{let b=h[d.toLowerCase()];if(d.includes("_")){let f=d.split("_");void 0!==(b=h[f[0].toLowerCase()])&&c[b].constructor===Object&&(e[b]=g(f,1,c[b],a[`td${d}`]))}else void 0!==b&&(e[b]=a[`td${d}`])}),this._mergeOptions(e,c)}static _dateTypeCheck(a){if(a.constructor.name===c.name)return a;if(a.constructor.name===Date.name)return c.convert(a);if("string"==typeof a){let b=new c(a);return"null"===JSON.stringify(b)?null:b}return null}static _typeCheckDateArray(d,a,g,h="default"){Array.isArray(a)||b.errorMessages.typeMismatch(d,g,"array of DateTime or Date");for(let c=0;c<a.length;c++){let f=a[c],e=this.dateConversion(f,d);e||b.errorMessages.typeMismatch(d,typeof f,"DateTime or Date"),e.setLocale(h),a[c]=e}}static _typeCheckNumberArray(c,a,d){(!Array.isArray(a)||a.find(a=>"number"!=typeof a))&&b.errorMessages.typeMismatch(c,d,"array of numbers")}static dateConversion(a,c){"string"==typeof a&&"input"!==c&&b.errorMessages.dateString();let d=this._dateTypeCheck(a);return d||b.errorMessages.failedToParseDate(c,a,"input"===c),d}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;let a=(b,c=[])=>Array.isArray(b)?[]:Object(b)===b?Object.entries(b).flatMap(([b,d])=>a(d,[...c,b])):c.join(".");return this._flattenDefaults=a(f),this._flattenDefaults}static _validateConflicts(a){!a.display.sideBySide||a.display.components.clock&&(a.display.components.hours||a.display.components.minutes||a.display.components.seconds)||b.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),a.restrictions.minDate&&a.restrictions.maxDate&&(a.restrictions.minDate.isAfter(a.restrictions.maxDate)&&b.errorMessages.conflictingConfiguration("minDate is after maxDate"),a.restrictions.maxDate.isBefore(a.restrictions.minDate)&&b.errorMessages.conflictingConfiguration("maxDate is before minDate"))}}d.ignoreProperties=["meta","dayViewHeaderFormat","container"],d.isValue=a=>null!=a;class u{constructor(){this._dates=[],this.optionsStore=o.locate(q),this.validation=o.locate(r),this._eventEmitters=o.locate(t)}get picked(){return this._dates}get lastPicked(){return this._dates[this.lastPickedIndex]}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(b){let a=this.optionsStore.options.display.components;return b?b.format({year:a.calendar&&a.year?"numeric":void 0,month:a.calendar&&a.month?"2-digit":void 0,day:a.calendar&&a.date?"2-digit":void 0,hour:a.clock&&a.hours?a.useTwentyfourHour?"2-digit":"numeric":void 0,minute:a.clock&&a.minutes?"2-digit":void 0,second:a.clock&&a.seconds?"2-digit":void 0,hour12:!a.useTwentyfourHour}):""}parseInput(a){return d.dateConversion(a,"input")}setFromInput(b,c){if(!b){this.setValue(void 0,c);return}let a=this.parseInput(b);a&&(a.setLocale(this.optionsStore.options.localization.locale),this.setValue(a,c))}add(a){this._dates.push(a)}isPicked(b,a){if(!a)return void 0!==this._dates.find(a=>a===b);let c=m(a),d=b.format(c);return void 0!==this._dates.map(a=>a.format(c)).find(a=>a===d)}pickedIndex(a,b){if(!b)return this._dates.indexOf(a);let c=m(b),d=a.format(c);return this._dates.map(a=>a.format(c)).indexOf(d)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:b.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[]}static getStartEndYear(a,c){let b=a/10,d=Math.floor(c/a)*a;return[d,d+9*b,Math.floor(c/b)*b]}setValue(a,d){let g=void 0===d,e=!a&&g,c=this.optionsStore.unset?null:this._dates[d];!c&&!this.optionsStore.unset&&g&&e&&(c=this.lastPicked);let f=()=>{if(!this.optionsStore.input)return;let b=this.formatInput(a);this.optionsStore.options.multipleDates&&(b=this._dates.map(a=>this.formatInput(a)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=b&&(this.optionsStore.input.value=b)};if(a&&(null==c?void 0:c.isSame(a))){f();return}if(!a){!this.optionsStore.options.multipleDates||1===this._dates.length||e?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(d,1),f(),this._eventEmitters.triggerEvent.emit({type:b.events.change,date:void 0,oldDate:c,isClear:e,isValid:!0}),this._eventEmitters.updateDisplay.emit("all");return}if(d=d||0,a=a.clone,1!==this.optionsStore.options.stepping&&(a.minutes=Math.round(a.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,a.seconds=0),this.validation.isValid(a)){this._dates[d]=a,this.optionsStore.viewDate=a.clone,f(),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:b.events.change,date:a,oldDate:c,isClear:e,isValid:!0});return}this.optionsStore.options.keepInvalid&&(this._dates[d]=a,this.optionsStore.viewDate=a.clone,f(),this._eventEmitters.triggerEvent.emit({type:b.events.change,date:a,oldDate:c,isClear:e,isValid:!1})),this._eventEmitters.triggerEvent.emit({type:b.events.error,reason:b.errorMessages.failedToSetInvalidDate,date:a,oldDate:c})}}(w=g||(g={})).next="next",w.previous="previous",w.changeCalendarView="changeCalendarView",w.selectMonth="selectMonth",w.selectYear="selectYear",w.selectDecade="selectDecade",w.selectDay="selectDay",w.selectHour="selectHour",w.selectMinute="selectMinute",w.selectSecond="selectSecond",w.incrementHours="incrementHours",w.incrementMinutes="incrementMinutes",w.incrementSeconds="incrementSeconds",w.decrementHours="decrementHours",w.decrementMinutes="decrementMinutes",w.decrementSeconds="decrementSeconds",w.toggleMeridiem="toggleMeridiem",w.togglePicker="togglePicker",w.showClock="showClock",w.showHours="showHours",w.showMinutes="showMinutes",w.showSeconds="showSeconds",w.clear="clear",w.close="close",w.today="today";var v,w,g,x=g;class h{static toggle(a){a.classList.contains(b.css.show)?this.hide(a):this.show(a)}static showImmediately(a){a.classList.remove(b.css.collapsing),a.classList.add(b.css.collapse,b.css.show),a.style.height=""}static show(a){if(a.classList.contains(b.css.collapsing)||a.classList.contains(b.css.show))return;let c=()=>{h.showImmediately(a)};a.style.height="0",a.classList.remove(b.css.collapse),a.classList.add(b.css.collapsing),setTimeout(c,this.getTransitionDurationFromElement(a)),a.style.height=`${a.scrollHeight}px`}static hideImmediately(a){a.classList.remove(b.css.collapsing,b.css.show),a.classList.add(b.css.collapse)}static hide(a){if(a.classList.contains(b.css.collapsing)||!a.classList.contains(b.css.show))return;let c=()=>{h.hideImmediately(a)};a.style.height=`${a.getBoundingClientRect().height}px`;let d=a=>a.offsetHeight;d(a),a.classList.remove(b.css.collapse,b.css.show),a.classList.add(b.css.collapsing),a.style.height="",setTimeout(c,this.getTransitionDurationFromElement(a))}}h.getTransitionDurationFromElement=c=>{if(!c)return 0;let{transitionDuration:a,transitionDelay:b}=window.getComputedStyle(c),d=Number.parseFloat(a),e=Number.parseFloat(b);return d||e?(a=a.split(",")[0],b=b.split(",")[0],(Number.parseFloat(a)+Number.parseFloat(b))*1e3):0};class y{constructor(){this._isVisible=!1,this._documentClickEvent=b=>{var a;this.optionsStore.options.debug||window.debug|| !this._isVisible||b.composedPath().includes(this.widget)||(null===(a=b.composedPath())|| void 0===a?void 0:a.includes(this.optionsStore.element))||this.hide()},this._actionsClickEvent=a=>{this._eventEmitters.action.emit({e:a})},this.optionsStore=o.locate(q),this.validation=o.locate(r),this.dates=o.locate(u),this.dateDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.dates=o.locate(u),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");if(a.classList.add(b.css.daysContainer),a.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){let d=document.createElement("div");d.classList.add(b.css.calendarWeeks,b.css.noHighlight),a.appendChild(d)}for(let c=0;c<42;c++){if(0!==c&&c%7==0&&this.optionsStore.options.display.calendarWeeks){let e=document.createElement("div");e.classList.add(b.css.calendarWeeks,b.css.noHighlight),a.appendChild(e)}let f=document.createElement("div");f.setAttribute("data-action",x.selectDay),a.appendChild(f)}return a}_update(g,i){let d=g.getElementsByClassName(b.css.daysContainer)[0],[e,h,f]=d.parentElement.getElementsByClassName(b.css.calendarHeader)[0].getElementsByTagName("div");h.setAttribute(b.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,a.Unit.month),a.Unit.month)?e.classList.remove(b.css.disabled):e.classList.add(b.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,a.Unit.month),a.Unit.month)?f.classList.remove(b.css.disabled):f.classList.add(b.css.disabled);let j=this.optionsStore.viewDate.clone.startOf(a.Unit.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,a.Unit.hours);d.querySelectorAll(`[data-action="${x.selectDay}"], .${b.css.calendarWeeks}`).forEach(d=>{if(this.optionsStore.options.display.calendarWeeks&&d.classList.contains(b.css.calendarWeeks)){if("#"===d.innerText)return;d.innerText=`${j.week}`;return}let e=[];e.push(b.css.day),j.isBefore(this.optionsStore.viewDate,a.Unit.month)&&e.push(b.css.old),j.isAfter(this.optionsStore.viewDate,a.Unit.month)&&e.push(b.css.new),!this.optionsStore.unset&&this.dates.isPicked(j,a.Unit.date)&&e.push(b.css.active),this.validation.isValid(j,a.Unit.date)||e.push(b.css.disabled),j.isSame(new c,a.Unit.date)&&e.push(b.css.today),(0===j.weekDay||6===j.weekDay)&&e.push(b.css.weekend),i(a.Unit.date,j,e,d),d.classList.remove(...d.classList),d.classList.add(...e);let f=`${j.year}-${j.monthFormatted}-${j.dateFormatted}`;if(d.setAttribute("data-value",f),d.setAttribute("data-day",`${j.date}`),this.optionsStore.options&&this.optionsStore.options.meta&&this.optionsStore.options.meta.additionalDateMap){if(void 0!==this.optionsStore.options.meta.additionalDateMap[f]&&this.optionsStore.options.meta.additionalDateMap[f]>0){let g=this.optionsStore.options.meta.additionalDateMap[f];d.innerHTML=j.format({day:"numeric"})+`<span class="calendar-events-count">${g}</span>`,d.setAttribute("data-bs-placement","top"),d.setAttribute("data-bs-toggle","tooltip"),d.setAttribute("title",`Ilość wydarzeń w tym dniu: ${g}`)}else d.innerHTML=j.format({day:"numeric"}),d.setAttribute("data-placement","top"),d.setAttribute("data-toggle","tooltip"),d.setAttribute("title",`Brak wydarzeń w tym dniu`)}else d.innerHTML=j.format({day:"numeric"});d.addEventListener("mouseenter",function(c){let a=$(".tooltip");a.length>0&&a.tooltip("hide");let b=new bootstrap.Tooltip(c.target,{template:'<div class="tooltip tooltip-primary" role="tooltip" style=""><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"auto",boundary:document.body,fallbackPlacements:["top","right","bottom","left"]});b.enable(),b.show()}),j.manipulate(1,a.Unit.date)})}_daysOfTheWeek(){let f=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(a.Unit.date),c=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){let d=document.createElement("div");d.classList.add(b.css.calendarWeeks,b.css.noHighlight),d.innerText="#",c.push(d)}for(let g=0;g<7;g++){let e=document.createElement("div");e.classList.add(b.css.dayOfTheWeek,b.css.noHighlight),e.innerText=f.format({weekday:"short"}),f.manipulate(1,a.Unit.date),c.push(e)}return c}}),this.monthDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.dates=o.locate(u),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");a.classList.add(b.css.monthsContainer);for(let c=0;c<12;c++){let d=document.createElement("div");d.setAttribute("data-action",x.selectMonth),a.appendChild(d)}return a}_update(f,h){let c=f.getElementsByClassName(b.css.monthsContainer)[0],[d,g,e]=c.parentElement.getElementsByClassName(b.css.calendarHeader)[0].getElementsByTagName("div");g.setAttribute(b.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,a.Unit.year),a.Unit.year)?d.classList.remove(b.css.disabled):d.classList.add(b.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,a.Unit.year),a.Unit.year)?e.classList.remove(b.css.disabled):e.classList.add(b.css.disabled);let i=this.optionsStore.viewDate.clone.startOf(a.Unit.year);c.querySelectorAll(`[data-action="${x.selectMonth}"]`).forEach((c,e)=>{let d=[];d.push(b.css.month),!this.optionsStore.unset&&this.dates.isPicked(i,a.Unit.month)&&d.push(b.css.active),this.validation.isValid(i,a.Unit.month)||d.push(b.css.disabled),h(a.Unit.month,i,d,c),c.classList.remove(...c.classList),c.classList.add(...d),c.setAttribute("data-value",`${e}`),c.innerText=`${i.format({month:"short"})}`,i.manipulate(1,a.Unit.month)})}}),this.yearDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.dates=o.locate(u),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");a.classList.add(b.css.yearsContainer);for(let c=0;c<12;c++){let d=document.createElement("div");d.setAttribute("data-action",x.selectYear),a.appendChild(d)}return a}_update(f,h){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,a.Unit.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,a.Unit.year);let c=f.getElementsByClassName(b.css.yearsContainer)[0],[d,g,e]=c.parentElement.getElementsByClassName(b.css.calendarHeader)[0].getElementsByTagName("div");g.setAttribute(b.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.validation.isValid(this._startYear,a.Unit.year)?d.classList.remove(b.css.disabled):d.classList.add(b.css.disabled),this.validation.isValid(this._endYear,a.Unit.year)?e.classList.remove(b.css.disabled):e.classList.add(b.css.disabled);let i=this.optionsStore.viewDate.clone.startOf(a.Unit.year).manipulate(-1,a.Unit.year);c.querySelectorAll(`[data-action="${x.selectYear}"]`).forEach(c=>{let d=[];d.push(b.css.year),!this.optionsStore.unset&&this.dates.isPicked(i,a.Unit.year)&&d.push(b.css.active),this.validation.isValid(i,a.Unit.year)||d.push(b.css.disabled),h(a.Unit.year,i,d,c),c.classList.remove(...c.classList),c.classList.add(...d),c.setAttribute("data-value",`${i.year}`),c.innerText=i.format({year:"numeric"}),i.manipulate(1,a.Unit.year)})}}),this.decadeDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.dates=o.locate(u),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");a.classList.add(b.css.decadesContainer);for(let c=0;c<12;c++){let d=document.createElement("div");d.setAttribute("data-action",x.selectDecade),a.appendChild(d)}return a}_update(f,j){let[g,h]=u.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(a.Unit.year),this._startDecade.year=g,this._endDecade=this.optionsStore.viewDate.clone.startOf(a.Unit.year),this._endDecade.year=h;let c=f.getElementsByClassName(b.css.decadesContainer)[0],[d,i,e]=c.parentElement.getElementsByClassName(b.css.calendarHeader)[0].getElementsByTagName("div");i.setAttribute(b.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),this.validation.isValid(this._startDecade,a.Unit.year)?d.classList.remove(b.css.disabled):d.classList.add(b.css.disabled),this.validation.isValid(this._endDecade,a.Unit.year)?e.classList.remove(b.css.disabled):e.classList.add(b.css.disabled);let k=this.dates.picked.map(a=>a.year);c.querySelectorAll(`[data-action="${x.selectDecade}"]`).forEach((c,f)=>{if(0===f){if(c.classList.add(b.css.old),this._startDecade.year-10<0){c.textContent=" ",d.classList.add(b.css.disabled),c.classList.add(b.css.disabled),c.setAttribute("data-value","");return}c.innerText=this._startDecade.clone.manipulate(-10,a.Unit.year).format({year:"numeric"}),c.setAttribute("data-value",`${this._startDecade.year}`);return}let e=[];e.push(b.css.decade);let g=this._startDecade.year,h=this._startDecade.year+9;!this.optionsStore.unset&&k.filter(a=>a>=g&&a<=h).length>0&&e.push(b.css.active),j("decade",this._startDecade,e,c),c.classList.remove(...c.classList),c.classList.add(...e),c.setAttribute("data-value",`${this._startDecade.year}`),c.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,a.Unit.year)})}}),this.timeDisplay=o.locate(class{constructor(){this._gridColumns="",this.optionsStore=o.locate(q),this.dates=o.locate(u),this.validation=o.locate(r)}getPicker(c){let a=document.createElement("div");return a.classList.add(b.css.clockContainer),a.append(...this._grid(c)),a}_update(f){let c=f.getElementsByClassName(b.css.clockContainer)[0],d=(this.dates.lastPicked||this.optionsStore.viewDate).clone;if(c.querySelectorAll(".disabled").forEach(a=>a.classList.remove(b.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,a.Unit.hours),a.Unit.hours)||c.querySelector(`[data-action=${x.incrementHours}]`).classList.add(b.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,a.Unit.hours),a.Unit.hours)||c.querySelector(`[data-action=${x.decrementHours}]`).classList.add(b.css.disabled),c.querySelector(`[data-time-component=${a.Unit.hours}]`).innerText=this.optionsStore.options.display.components.useTwentyfourHour?d.hoursFormatted:d.twelveHoursFormatted),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,a.Unit.minutes),a.Unit.minutes)||c.querySelector(`[data-action=${x.incrementMinutes}]`).classList.add(b.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,a.Unit.minutes),a.Unit.minutes)||c.querySelector(`[data-action=${x.decrementMinutes}]`).classList.add(b.css.disabled),c.querySelector(`[data-time-component=${a.Unit.minutes}]`).innerText=d.minutesFormatted),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,a.Unit.seconds),a.Unit.seconds)||c.querySelector(`[data-action=${x.incrementSeconds}]`).classList.add(b.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,a.Unit.seconds),a.Unit.seconds)||c.querySelector(`[data-action=${x.decrementSeconds}]`).classList.add(b.css.disabled),c.querySelector(`[data-time-component=${a.Unit.seconds}]`).innerText=d.secondsFormatted),!this.optionsStore.options.display.components.useTwentyfourHour){let e=c.querySelector(`[data-action=${x.toggleMeridiem}]`);e.innerText=d.meridiem(),this.validation.isValid(d.clone.manipulate(d.hours>=12?-12:12,a.Unit.hours))?e.classList.remove(b.css.disabled):e.classList.add(b.css.disabled)}c.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(n){this._gridColumns="";let g=[],h=[],i=[],o=document.createElement("div"),l=n(this.optionsStore.options.display.icons.up),m=n(this.optionsStore.options.display.icons.down);o.classList.add(b.css.separator,b.css.noHighlight);let p=o.cloneNode(!0);p.innerHTML=":";let f=(a=!1)=>a?p.cloneNode(!0):o.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let c=document.createElement("div");c.setAttribute("title",this.optionsStore.options.localization.incrementHour),c.setAttribute("data-action",x.incrementHours),c.appendChild(l.cloneNode(!0)),g.push(c),(c=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickHour),c.setAttribute("data-action",x.showHours),c.setAttribute("data-time-component",a.Unit.hours),h.push(c),(c=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementHour),c.setAttribute("data-action",x.decrementHours),c.appendChild(m.cloneNode(!0)),i.push(c),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(g.push(f()),h.push(f(!0)),i.push(f()),this._gridColumns+=" a");let d=document.createElement("div");d.setAttribute("title",this.optionsStore.options.localization.incrementMinute),d.setAttribute("data-action",x.incrementMinutes),d.appendChild(l.cloneNode(!0)),g.push(d),(d=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickMinute),d.setAttribute("data-action",x.showMinutes),d.setAttribute("data-time-component",a.Unit.minutes),h.push(d),(d=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementMinute),d.setAttribute("data-action",x.decrementMinutes),d.appendChild(m.cloneNode(!0)),i.push(d)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(g.push(f()),h.push(f(!0)),i.push(f()),this._gridColumns+=" a");let e=document.createElement("div");e.setAttribute("title",this.optionsStore.options.localization.incrementSecond),e.setAttribute("data-action",x.incrementSeconds),e.appendChild(l.cloneNode(!0)),g.push(e),(e=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickSecond),e.setAttribute("data-action",x.showSeconds),e.setAttribute("data-time-component",a.Unit.seconds),h.push(e),(e=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementSecond),e.setAttribute("data-action",x.decrementSeconds),e.appendChild(m.cloneNode(!0)),i.push(e)}if(!this.optionsStore.options.display.components.useTwentyfourHour){this._gridColumns+=" a";let j=f();g.push(j);let k=document.createElement("button");k.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),k.setAttribute("data-action",x.toggleMeridiem),k.setAttribute("tabindex","-1"),b.css.toggleMeridiem.includes(",")?k.classList.add(...b.css.toggleMeridiem.split(",")):k.classList.add(b.css.toggleMeridiem),(j=document.createElement("div")).classList.add(b.css.noHighlight),j.appendChild(k),h.push(j),j=f(),i.push(j)}return this._gridColumns=this._gridColumns.trim(),[...g,...h,...i]}}),this.hourDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");a.classList.add(b.css.hourContainer);for(let c=0;c<(this.optionsStore.options.display.components.useTwentyfourHour?24:12);c++){let d=document.createElement("div");d.setAttribute("data-action",x.selectHour),a.appendChild(d)}return a}_update(c,e){let d=c.getElementsByClassName(b.css.hourContainer)[0],f=this.optionsStore.viewDate.clone.startOf(a.Unit.date);d.querySelectorAll(`[data-action="${x.selectHour}"]`).forEach(c=>{let d=[];d.push(b.css.hour),this.validation.isValid(f,a.Unit.hours)||d.push(b.css.disabled),e(a.Unit.hours,f,d,c),c.classList.remove(...c.classList),c.classList.add(...d),c.setAttribute("data-value",`${f.hours}`),c.innerText=this.optionsStore.options.display.components.useTwentyfourHour?f.hoursFormatted:f.twelveHoursFormatted,f.manipulate(1,a.Unit.hours)})}}),this.minuteDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");a.classList.add(b.css.minuteContainer);let e=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let c=0;c<60/e;c++){let d=document.createElement("div");d.setAttribute("data-action",x.selectMinute),a.appendChild(d)}return a}_update(c,e){let d=c.getElementsByClassName(b.css.minuteContainer)[0],f=this.optionsStore.viewDate.clone.startOf(a.Unit.hours),g=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;d.querySelectorAll(`[data-action="${x.selectMinute}"]`).forEach(c=>{let d=[];d.push(b.css.minute),this.validation.isValid(f,a.Unit.minutes)||d.push(b.css.disabled),e(a.Unit.minutes,f,d,c),c.classList.remove(...c.classList),c.classList.add(...d),c.setAttribute("data-value",`${f.minutesFormatted}`),c.innerText=f.minutesFormatted,f.manipulate(g,a.Unit.minutes)})}}),this.secondDisplay=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.validation=o.locate(r)}getPicker(){let a=document.createElement("div");a.classList.add(b.css.secondContainer);for(let c=0;c<12;c++){let d=document.createElement("div");d.setAttribute("data-action",x.selectSecond),a.appendChild(d)}return a}_update(c,e){let d=c.getElementsByClassName(b.css.secondContainer)[0],f=this.optionsStore.viewDate.clone.startOf(a.Unit.minutes);d.querySelectorAll(`[data-action="${x.selectSecond}"]`).forEach(c=>{let d=[];d.push(b.css.second),this.validation.isValid(f,a.Unit.seconds)||d.push(b.css.disabled),e(a.Unit.seconds,f,d,c),c.classList.remove(...c.classList),c.classList.add(...d),c.setAttribute("data-value",`${f.seconds}`),c.innerText=f.secondsFormatted,f.manipulate(5,a.Unit.seconds)})}}),this._eventEmitters=o.locate(t),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(a=>{this._update(a)})}get widget(){return this._widget}get isVisible(){return this._isVisible}_update(b){if(this.widget)switch(b){case a.Unit.seconds:this.secondDisplay._update(this.widget,this.paint);break;case a.Unit.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case a.Unit.hours:this.hourDisplay._update(this.widget,this.paint);break;case a.Unit.date:this.dateDisplay._update(this.widget,this.paint);break;case a.Unit.month:this.monthDisplay._update(this.widget,this.paint);break;case a.Unit.year:this.yearDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(a.Unit.hours),this._update(a.Unit.minutes),this._update(a.Unit.seconds);break;case"calendar":this._update(a.Unit.date),this._update(a.Unit.year),this._update(a.Unit.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(a,b,c,d){}show(){var e,f;if(void 0==this.widget){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){let d=new c().setLocale(this.optionsStore.options.localization.locale);if(!this.optionsStore.options.keepInvalid){let g=0,i=1;for((null===(e=this.optionsStore.options.restrictions.maxDate)|| void 0===e?void 0:e.isBefore(d))&&(i=-1);!this.validation.isValid(d)&&(d.manipulate(i,a.Unit.date),!(g>31));)g++}this.dates.setValue(d)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}this._buildWidget();let k=this._hasTime&&!this._hasDate;if(k&&(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:x.showClock})),this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),k||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&h.hideImmediately(this.widget.querySelector(`div.${b.css.timeContainer}`)),h.show(this.widget.querySelector(`div.${b.css.dateContainer}`))),this._hasDate&&this._showMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{let l=(null===(f=this.optionsStore.options)|| void 0===f?void 0:f.container)||document.body;l.appendChild(this.widget),this._popperInstance=j.createPopper(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?"bottom-end":"bottom-start"})}"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:x.showClock}),this.widget.querySelectorAll("[data-action]").forEach(a=>a.addEventListener("click",this._actionsClickEvent)),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(b.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(b.css.show),this.optionsStore.options.display.inline||(this._popperInstance.update(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:b.events.show}),this._isVisible=!0}_showMode(a){if(!this.widget)return;if(a){let c=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+a));if(this.optionsStore.currentCalendarViewMode==c)return;this.optionsStore.currentCalendarViewMode=c}this.widget.querySelectorAll(`.${b.css.dateContainer} > div:not(.${b.css.calendarHeader}), .${b.css.timeContainer} > div:not(.${b.css.clockContainer})`).forEach(a=>a.style.display="none");let d=p[this.optionsStore.currentCalendarViewMode],e=this.widget.querySelector(`.${d.className}`);switch(d.className){case b.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case b.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case b.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case b.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}e.style.display="grid",this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}_updateCalendarHeader(){let e=[...this.widget.querySelector(`.${b.css.dateContainer} div[style*="display: grid"]`).classList,].find(a=>a.startsWith(b.css.dateContainer)),[c,a,d]=this.widget.getElementsByClassName(b.css.calendarHeader)[0].getElementsByTagName("div");switch(e){case b.css.decadesContainer:c.setAttribute("title",this.optionsStore.options.localization.previousCentury),a.setAttribute("title",""),d.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case b.css.yearsContainer:c.setAttribute("title",this.optionsStore.options.localization.previousDecade),a.setAttribute("title",this.optionsStore.options.localization.selectDecade),d.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case b.css.monthsContainer:c.setAttribute("title",this.optionsStore.options.localization.previousYear),a.setAttribute("title",this.optionsStore.options.localization.selectYear),d.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case b.css.daysContainer:c.setAttribute("title",this.optionsStore.options.localization.previousMonth),a.setAttribute("title",this.optionsStore.options.localization.selectMonth),d.setAttribute("title",this.optionsStore.options.localization.nextMonth),a.innerText=this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)}a.innerText=a.getAttribute(e)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(b.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:b.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?this.dates.lastPicked.clone:void 0}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(a=>a.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){let a=document.createElement("div");a.classList.add(b.css.widget);let d=document.createElement("div");d.classList.add(b.css.dateContainer),d.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());let c=document.createElement("div");c.classList.add(b.css.timeContainer),c.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),c.appendChild(this.hourDisplay.getPicker()),c.appendChild(this.minuteDisplay.getPicker()),c.appendChild(this.secondDisplay.getPicker());let e=document.createElement("div");if(e.classList.add(b.css.toolbar),e.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&a.classList.add(b.css.inline),this.optionsStore.options.display.calendarWeeks&&a.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){a.classList.add(b.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&a.appendChild(e);let f=document.createElement("div");f.classList.add("td-row"),d.classList.add("td-half"),c.classList.add("td-half"),f.appendChild(d),f.appendChild(c),a.appendChild(f),"bottom"===this.optionsStore.options.display.toolbarPlacement&&a.appendChild(e),this._widget=a;return}"top"===this.optionsStore.options.display.toolbarPlacement&&a.appendChild(e),this._hasDate&&(this._hasTime&&(d.classList.add(b.css.collapse),"clock"!==this.optionsStore.options.display.viewMode&&d.classList.add(b.css.show)),a.appendChild(d)),this._hasTime&&(this._hasDate&&(c.classList.add(b.css.collapse),"clock"===this.optionsStore.options.display.viewMode&&c.classList.add(b.css.show)),a.appendChild(c)),"bottom"===this.optionsStore.options.display.toolbarPlacement&&a.appendChild(e);let g=document.createElement("div");g.classList.add("arrow"),g.setAttribute("data-popper-arrow",""),a.appendChild(g),this._widget=a}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}getToolbarElements(){let a=[];if(this.optionsStore.options.display.buttons.today){let b=document.createElement("div");b.setAttribute("data-action",x.today),b.setAttribute("title",this.optionsStore.options.localization.today),b.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),a.push(b)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let f,g;"clock"===this.optionsStore.options.display.viewMode?(f=this.optionsStore.options.localization.selectDate,g=this.optionsStore.options.display.icons.date):(f=this.optionsStore.options.localization.selectTime,g=this.optionsStore.options.display.icons.time);let c=document.createElement("div");c.setAttribute("data-action",x.togglePicker),c.setAttribute("title",f),c.appendChild(this._iconTag(g)),a.push(c)}if(this.optionsStore.options.display.buttons.clear){let d=document.createElement("div");d.setAttribute("data-action",x.clear),d.setAttribute("title",this.optionsStore.options.localization.clear),d.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),a.push(d)}if(this.optionsStore.options.display.buttons.close){let e=document.createElement("div");e.setAttribute("data-action",x.close),e.setAttribute("title",this.optionsStore.options.localization.close),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),a.push(e)}return a}getHeadTemplate(){let d=document.createElement("div");d.classList.add(b.css.calendarHeader);let a=document.createElement("div");a.classList.add(b.css.previous),a.setAttribute("data-action",x.previous),a.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous));let e=document.createElement("div");e.classList.add(b.css.switch),e.setAttribute("data-action",x.changeCalendarView);let c=document.createElement("div");return c.classList.add(b.css.next),c.setAttribute("data-action",x.next),c.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),d.append(a,e,c),d}_iconTag(a){if("sprites"===this.optionsStore.options.display.icons.type){let c=document.createElementNS("http://www.w3.org/2000/svg","svg"),b=document.createElementNS("http://www.w3.org/2000/svg","use");return b.setAttribute("xlink:href",a),b.setAttribute("href",a),c.appendChild(b),c}let d=document.createElement("i");return d.classList.add(...a.split(" ")),d}_rebuild(){let a=this._isVisible;a&&this.hide(),this._dispose(),a&&this.show()}}class i{constructor(d,e={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=b=>{let f=null==b?void 0:b.detail;if(f)return;let c=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked)},d=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates)try{let e=d.split(this.optionsStore.options.multipleDatesSeparator);for(let a=0;a<e.length;a++)this.dates.setFromInput(e[a],a);c()}catch(g){console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(d,0),c()},this._toggleClickEvent=()=>{var a,b;null!==(a=this.optionsStore.element)&& void 0!==a&&a.disabled||null!==(b=this.optionsStore.input)&& void 0!==b&&b.disabled||this.toggle()},o=new class{constructor(){this.cache=new Map}locate(a){let b=this.cache.get(a);if(b)return b;let c=new a;return this.cache.set(a,c),c}},this._eventEmitters=o.locate(t),this.optionsStore=o.locate(q),this.display=o.locate(y),this.dates=o.locate(u),this.actions=o.locate(class{constructor(){this.optionsStore=o.locate(q),this.dates=o.locate(u),this.validation=o.locate(r),this.display=o.locate(y),this._eventEmitters=o.locate(t),this._eventEmitters.action.subscribe(a=>{this.do(a.e,a.action)})}do(f,g){var j,k;let d=null==f?void 0:f.currentTarget;if(null===(j=null==d?void 0:d.classList)|| void 0===j?void 0:j.contains(b.css.disabled))return!1;g=g||(null===(k=null==d?void 0:d.dataset)|| void 0===k?void 0:k.action);let e=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(g){case x.next:case x.previous:this.handleNextPrevious(g);break;case x.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case x.selectMonth:case x.selectYear:case x.selectDecade:let m=+d.dataset.value;switch(g){case x.selectMonth:this.optionsStore.viewDate.month=m;break;case x.selectYear:case x.selectDecade:this.optionsStore.viewDate.year=m}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1);break;case x.selectDay:let i=this.optionsStore.viewDate.clone;d.classList.contains(b.css.old)&&i.manipulate(-1,a.Unit.month),d.classList.contains(b.css.new)&&i.manipulate(1,a.Unit.month),i.date=+d.dataset.day;let n=0;this.optionsStore.options.multipleDates?-1!==(n=this.dates.pickedIndex(i,a.Unit.date))?this.dates.setValue(null,n):this.dates.setValue(i,this.dates.lastPickedIndex+1):this.dates.setValue(i,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.display.hide();break;case x.selectHour:let o=+d.dataset.value;e.hours>=12&&!this.optionsStore.options.display.components.useTwentyfourHour&&(o+=12),e.hours=o,this.dates.setValue(e,this.dates.lastPickedIndex),this.hideOrClock(f);break;case x.selectMinute:e.minutes=+d.dataset.value,this.dates.setValue(e,this.dates.lastPickedIndex),this.hideOrClock(f);break;case x.selectSecond:e.seconds=+d.dataset.value,this.dates.setValue(e,this.dates.lastPickedIndex),this.hideOrClock(f);break;case x.incrementHours:this.manipulateAndSet(e,a.Unit.hours);break;case x.incrementMinutes:this.manipulateAndSet(e,a.Unit.minutes,this.optionsStore.options.stepping);break;case x.incrementSeconds:this.manipulateAndSet(e,a.Unit.seconds);break;case x.decrementHours:this.manipulateAndSet(e,a.Unit.hours,-1);break;case x.decrementMinutes:this.manipulateAndSet(e,a.Unit.minutes,-1*this.optionsStore.options.stepping);break;case x.decrementSeconds:this.manipulateAndSet(e,a.Unit.seconds,-1);break;case x.toggleMeridiem:this.manipulateAndSet(e,a.Unit.hours,this.dates.lastPicked.hours>=12?-12:12);break;case x.togglePicker:d.getAttribute("title")===this.optionsStore.options.localization.selectDate?(d.setAttribute("title",this.optionsStore.options.localization.selectTime),d.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(d.setAttribute("title",this.optionsStore.options.localization.selectDate),d.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.do(f,x.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${b.css.dateContainer}, .${b.css.timeContainer}`).forEach(a=>h.toggle(a)),this._eventEmitters.viewUpdate.emit();break;case x.showClock:case x.showHours:case x.showMinutes:case x.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(h.hideImmediately(this.display.widget.querySelector(`div.${b.css.dateContainer}`)),h.showImmediately(this.display.widget.querySelector(`div.${b.css.timeContainer}`))),this.handleShowClockContainers(g);break;case x.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case x.close:this.display.hide();break;case x.today:let l=new c().setLocale(this.optionsStore.options.localization.locale);this.optionsStore.viewDate=l,this.validation.isValid(l,a.Unit.date)&&this.dates.setValue(l,this.dates.lastPickedIndex)}}handleShowClockContainers(d){if(!this.display._hasTime){b.errorMessages.throwError("Cannot show clock containers when time is disabled.");return}this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${b.css.timeContainer} > div`).forEach(a=>a.style.display="none");let c="";switch(d){case x.showClock:c=b.css.clockContainer,this.display._update("clock");break;case x.showHours:c=b.css.hourContainer,this.display._update(a.Unit.hours);break;case x.showMinutes:c=b.css.minuteContainer,this.display._update(a.Unit.minutes);break;case x.showSeconds:c=b.css.secondContainer,this.display._update(a.Unit.seconds)}this.display.widget.getElementsByClassName(c)[0].style.display="grid"}handleNextPrevious(c){let{unit:a,step:b}=p[this.optionsStore.currentCalendarViewMode];c===x.next?this.optionsStore.viewDate.manipulate(b,a):this.optionsStore.viewDate.manipulate(-1*b,a),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(a){!this.optionsStore.options.display.components.useTwentyfourHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(a,x.showClock):this.display.hide()}manipulateAndSet(c,a,d=1){let b=c.manipulate(d,a);this.validation.isValid(b,a)&&this.dates.setValue(b,this.dates.lastPickedIndex)}}),d||b.errorMessages.mustProvideElement(),this.optionsStore.element=d,this._initializeOptions(e,f,!0),this.optionsStore.viewDate.setLocale(this.optionsStore.options.localization.locale),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(a=>{this._triggerEvent(a)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()})}get viewDate(){return this.optionsStore.viewDate}updateOptions(a,b=!1){b?this._initializeOptions(a,f):this._initializeOptions(a,this.optionsStore.options),this.display._rebuild()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){var a;this._isDisabled=!0,null===(a=this.optionsStore.input)|| void 0===a||a.setAttribute("disabled","disabled"),this.display.hide()}enable(){var a;this._isDisabled=!1,null===(a=this.optionsStore.input)|| void 0===a||a.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(a,e){"string"==typeof a&&(a=[a]);let f;f=Array.isArray(e)?e:[e],a.length!==f.length&&b.errorMessages.subscribeMismatch();let g=[];for(let d=0;d<a.length;d++){let c=a[d];if(Array.isArray(this._subscribers[c])||(this._subscribers[c]=[]),this._subscribers[c].push(f[d]),g.push({unsubscribe:this._unsubscribe.bind(this,c,this._subscribers[c].length-1)}),1===a.length)return g[0]}return g}dispose(){var a,b,c;this.display.hide(),this.display._dispose(),null===(a=this.optionsStore.input)|| void 0===a||a.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(null===(b=this.optionsStore.input)|| void 0===b||b.removeEventListener("click",this._toggleClickEvent)),null===(c=this._toggle)|| void 0===c||c.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(b){let a=z[b];a&&this.updateOptions({localization:a})}_triggerEvent(a){var c,d;a.viewMode=this.optionsStore.currentView;let g=a.type===b.events.change;if(g){let{date:e,oldDate:f,isClear:h}=a;if(e&&f&&e.isSame(f)|| !h&&!e&&!f)return;this._handleAfterChangeEvent(a),null===(c=this.optionsStore.input)|| void 0===c||c.dispatchEvent(new CustomEvent(a.type,{detail:a})),null===(d=this.optionsStore.input)|| void 0===d||d.dispatchEvent(new CustomEvent("change",{detail:a}))}if(this.optionsStore.element.dispatchEvent(new CustomEvent(a.type,{detail:a})),window.jQuery){let $=window.jQuery;g&&this.optionsStore.input?$(this.optionsStore.input).trigger(a):$(this.optionsStore.element).trigger(a)}this._publish(a)}_publish(a){Array.isArray(this._subscribers[a.type])&&this._subscribers[a.type].forEach(b=>{b(a)})}_viewUpdate(){this._triggerEvent({type:b.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(a,b){this._subscribers[a].splice(b,1)}_initializeOptions(c,e,f=!1){var b;let a=d.deepCopy(c);a=d._mergeOptions(a,e),f&&(a=d._dataToOptions(this.optionsStore.element,a)),d._validateConflicts(a),a.viewDate=a.viewDate.setLocale(a.localization.locale),this.optionsStore.viewDate.isSame(a.viewDate)||(this.optionsStore.viewDate=a.viewDate),a.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),a.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),a.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),p[this.optionsStore.currentCalendarViewMode].name!==a.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(p.findIndex(b=>b.name===a.display.viewMode),this.optionsStore.minimumCalendarViewMode)),(null===(b=this.display)|| void 0===b?void 0:b.isVisible)&&this.display._update("all"),this.optionsStore.options=a}_initializeInput(){if("INPUT"==this.optionsStore.element.tagName)this.optionsStore.input=this.optionsStore.element;else{let a=this.optionsStore.element.dataset.tdTargetInput;void 0==a||"nearest"==a?this.optionsStore.input=this.optionsStore.element.querySelector("input"):this.optionsStore.input=this.optionsStore.element.querySelector(a)}this.optionsStore.input&&(this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&this.optionsStore.input.addEventListener("click",this._toggleClickEvent),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let a=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==a&&(a='[data-td-toggle="datetimepicker"]'),this._toggle=void 0==a?this.optionsStore.element:this.optionsStore.element.querySelector(a),this._toggle.addEventListener("click",this._toggleClickEvent)}_handleAfterChangeEvent(a){var c,d;if(!(!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||(null===(c=this.display.widget)|| void 0===c?void 0:c.getElementsByClassName(b.css.show)[0].classList.contains(b.css.timeContainer)))){if(!a.oldDate&&this.optionsStore.options.useCurrent||a.oldDate&&(null===(d=a.date)|| void 0===d?void 0:d.isSame(a.oldDate)))return;clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector(`.${b.css.switch} div`)},action:x.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay)}}}let z={};a.DateTime=c,a.DefaultOptions=f,a.Namespace=b,a.TempusDominus=i,a.extend=function(a,b){return a.$i||(a.load(b,{TempusDominus:i,Dates:u,Display:y},this),a.$i=!0),this},a.loadLocale=a=>{z[a.name]||(z[a.name]=a.localization)},a.locale=b=>{let a=z[b];a&&(f.localization=a)},Object.defineProperty(a,"__esModule",{value:!0})})